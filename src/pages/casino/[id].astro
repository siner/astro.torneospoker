---
import Layout from "../../layouts/Layout.astro";
import CardCasino from "../../components/casino/CardCasino";
import RowTournament from "../../components/tournament/RowTournament";
import RowCashgame from "../../components/cashgame/RowCashgame";

const id = Astro.params.id;
import {
  getCasino,
  getProximosTorneosCasino,
  getCashgamesCasino,
} from "../../lib/api";
let casino = await getCasino(id);
let torneos = await getProximosTorneosCasino(id);
let cashgames = await getCashgamesCasino(id);
---

<Layout title={casino.name} description={"Casino " + casino.name}>
  <div class="container mx-auto">
    <div class="flex gap-4">
      <div class="lg:w-1/3 mt-6">
        <CardCasino casino={casino} />
      </div>
      <div class="lg:w-2/3">
        <h2 class="text-4xl font-bold py-4">Pr√≥ximos Torneos</h2>
        <div>
          {
            torneos.map((torneo) => (
              <RowTournament torneo={torneo} casino="false" />
            ))
          }
        </div>

        <h2 class="text-4xl font-bold py-4">Cash</h2>
        <div>
          {cashgames.map((cashgame) => <RowCashgame cashgame={cashgame} />)}
        </div>
      </div>
    </div>
  </div>
</Layout>
